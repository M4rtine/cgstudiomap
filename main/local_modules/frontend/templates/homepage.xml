<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="homepage_ammap_config" model="ammap.config">
            <field name="name">homepage</field>
            <field name="color">#E8CFF7</field>
            <field name="color_solid">#B86BE5</field>
            <field name="unlisted_areas_color">#E2E2E4</field>
            <field name="roll_over_outline_color">#190623</field>

            <field name="description">Config of the map on the homepage.</field>
        </record>

        <template id="homepage" name="Homepage" page="True" priority="29">
            <t t-call="website.layout">
                <link rel="stylesheet" href="/ammap/static/src/js/ammap_3.14.0/ammap.css" type="text/css"/>
                <script src="/ammap/static/src/js/ammap_3.14.0/ammap.js" type="text/javascript"></script>
                <!-- map file should be included after ammap.js -->
                <script src="/ammap/static/src/js/ammap_3.14.0/maps/js/worldLow.js" type="text/javascript"></script>
                <script type="text/javascript">
                var map;

                AmCharts.ready(function() {
                    map = new AmCharts.AmMap();
                    map.pathToImages = "/ammap/static/src/js/ammap_3.14.0/images/";

                    map.colorSteps = 10;
                    var dataProvider = {
                        mapVar: AmCharts.maps.worldLow,
                    };
                    var areas = new Array()
                    <t t-foreach="geochart_data" t-as="country">
                    areas[areas.length] = {
                        id: "<t t-esc="country.code"/>",
                        name: "<t t-esc="country.name"/>",
                        value: <t t-esc="geochart_data[country]"/>
                        };
                    </t>
                    dataProvider['areas'] = areas;
                    map.dataProvider = dataProvider;
                    // make the map static. Can't be dragged.
                    map.dragMap = false;


                    map.areasSettings = {
                        autoZoom: true,
                        // low value color
                        color: "<t t-esc='ammap_config.color'/>",
                        // high value color
                        colorSolid: "<t t-esc='ammap_config.color_solid'/>",
                        // Color for country without value.
                        unlistedAreasColor: "<t t-esc='ammap_config.unlisted_areas_color'/>",
                        // Color of borders when rolling over a country.
                        rollOverOutlineColor: "<t t-esc='ammap_config.roll_over_outline_color'/>",

                        autoZoom: false,
                        balloonText: "[[title]]: [[value]] studios"

                    };
                    map.zoomControl = {
                        // disable the zoom
                        zoomControlEnabled: false,
                        // disable the pan controls.
                        panControlEnabled: false

	                };
                    // disable zoom on double click as we removed the zoom controls.
                    map.zoomOnDoubleClick = false;


                    var valueLegend = new AmCharts.ValueLegend();
                    valueLegend.right = 10;
                    valueLegend.minValue = "little";
                    valueLegend.maxValue = "a lot!";
                    map.valueLegend = valueLegend;


                    map.write("<t t-esc="geochart_target"/>");
                });
                </script>

                <div id="wrap" class="oe_structure oe_empty">
                    <div t-att-id="geochart_target"></div>
                    <!--<t t-if="request.uid == %(base.public_user)d)">-->
                    <div class="sign-up-div">
                        <h3><strong>Find a studio</strong></h3>
                        <p class="small-text">
                            Welcome to cgstudiomap!<br />
                            A map that allows you to find ANY studios worldwide<br/>
                            by city, contact, specialities and even more.</p>
                        <p>It is completely free forever.</p>
                        <p><a t-attf-href="/web/signup" class="btn btn-warning sign-up pull-right"><strong>Sign up</strong></a></p>
                    </div>
                    <!--</t>-->
                    <div class="divide60"></div>
                    <div style="background: white">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-8 col-sm-offset-2">
                                    <div class="center-heading">
                                        <h2>
                                            <strong>Because everyone should be familiar with the cg industry</strong>
                                        </h2>
                                        <span class="center-line"></span>
                                        <p class="sub-text margin40">
                                            cgstudiomap is the premier open-data center of the computer graphic industry.<br/>
                                            Come in: update, share or simply read the content.
                                        </p>
                                    </div>
                                </div>

                            </div>
                            <!--center heading end-->
                            <div class="divide50"></div>
                            <div class="row">
                                <div class="col-md-6 margin30 description">
                                    <div class="colored-boxed green">
                                        <i class="fa fa-group"></i>
                                    </div>
                                    <div class="text">
                                        <h3>Community</h3>
                                        <p>
                                            cgstudiomap project is an initiative that promotes and celebrates open exchange,
                                            collaborative participation, transparency and community development.
                                            Anyone can freely update, edit and share the content.<br /><br />
                                            <a t-attf-href="/web/signup">Sign-up</a> today and be part of the community!
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6 margin30 description">
                                    <div class="colored-boxed green">
                                        <i class="fa fa-folder-open"></i>
                                    </div>
                                    <div class="text">
                                        <h3>Open source project</h3>
                                        <p>
                                            cgstudiomap project is now open source,
                                            the source code is available for modification and/or enhancement
                                            by anyone. Programmers as well as other
                                            members can contribute by improving all the source code and
                                            by sharing the changes within the community. <br /><br />
                                            Join us on <a t-att-href="website.social_github">Github</a> today!
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="divide50"></div>
                            <div class="row">
                                <div class="col-md-6 margin30 description">
                                    <div class="colored-boxed green">
                                        <i class="fa fa-cogs"></i>
                                    </div>
                                    <div class="text">
                                        <h3>Open Data</h3>
                                        <p>
                                            As an Open data website, our data are freely available to everyone
                                            to use and republish as you wish, without restrictions in the
                                            only purpose of developping the community.<br /><br />
                                            Start <a t-attf-href="/web/signup">contributing</a> today!
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6 margin30 description">
                                    <div class="colored-boxed red">
                                        <i class="fa fa-heart"></i>
                                    </div>
                                    <div class="text">
                                        <h3>Support</h3>
                                        <p>
                                            cgstudiomap team is working on developping the website,
                                            today is a map that allows you to find studios worldwide,
                                            tomorrow we would like to develop a job hunting tool…<br /><br />
                                            Together, let’s create a MOVEMENT!
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="divide80"></div>
                        </div>
                    </div>
                    <!--services container-->
                    <div class="divide80"></div>
                    <section class="fun-fact-wrap-light">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-4 margin20 facts-in">
                                    <h3><span class="counter" t-esc="nbr_users"/></h3>
                                    <h4>Happy Users</h4>
                                </div><!--facts in-->
                                <div class="col-md-4 margin20 facts-in">
                                    <h3><span class="counter" t-esc="nbr_partners"/></h3>
                                    <h4>Companies</h4>
                                </div><!--facts in-->
                                <!--<div class="col-md-3 margin20 facts-in">-->
                                    <!--<h3><span class="counter" t-esc="nbr_cities"/></h3>-->
                                    <!--<h4>Cities</h4>-->
                                <!--</div>&lt;!&ndash;facts in&ndash;&gt;-->
                                <div class="col-md-4 margin20 facts-in">
                                    <h3><span class="counter" t-esc="nbr_countries"/></h3>
                                    <h4>Countries</h4>
                                </div><!--facts in-->
                            </div>
                        </div>
                    </section><!--fun facts-->

                    <div class="container">
                        <div class="row studios">
                            <t t-foreach="partners[4:]" t-as="partner">
                                <div class="col-sm-3">
                                    <div style="float:left">
                                        <a t-attf-href="/web#return_label=Website&amp;view_type=form&amp;model=#{partner._name}&amp;id=#{partner.id}&amp;action=#{action}">
                                        <img itemprop="image"
                                             class="img img-responsive"
                                             t-att-src="website.image_url(partner, 'image_small')"
                                                />
                                        </a>
                                    </div>
                                    <div class="person-v2">
                                        <div class="person-desc-v2">
                                            <a t-attf-href="/web#return_label=Website&amp;view_type=form&amp;model=#{partner._name}&amp;id=#{partner.id}&amp;action=#{action}">
                                            <h4 t-esc="partner.name"/></a>
                                            <p><em t-esc="'{}, {}'.format(partner.city.encode('utf8'), partner.country_id.name)"/><br />
                                            <em t-esc="', '.join(ind.name for ind in partner.industry_ids)"/></p>
                                        </div>
                                    </div>
                                </div><!--person col end-->
                            </t>
                        </div>

                        <div class="row studios" style="margin-top:20px">
                            <t t-foreach="partners[:4]" t-as="partner">
                                <div class="col-sm-3">
                                    <div style="float:left">
                                        <img itemprop="image"
                                             class="img img-responsive"
                                             t-att-src="website.image_url(partner, 'image_small')"
                                                />
                                    </div>
                                    <div class="person-v2">
                                        <div class="person-desc-v2">
                                            <a href="#"><h4 t-esc="partner.name"/></a>
                                            <p><em t-esc="'{}, {}'.format(partner.city.encode('utf8'), partner.country_id.name)"/><br />
                                                <em t-esc="', '.join(ind.name for ind in partner.industry_ids)"/></p>
                                        </div>
                                    </div>
                                </div><!--person col end-->
                            </t>
                        </div>
                    </div>

                </div>
                <div class="divide40"></div>
                <div class="sign-up-text" style="background:white">
                    <div class="divide40"></div>
                    <div class="container">
                        <div class="row">
                            <!--<div class="col-sm-7">-->
                                <!--<h2>Sign in</h2>-->
                                <!--<p>Join the force and help us to change cg industry</p>-->
                            <!--</div>-->
                            <div class="col-sm-12">
                                <a t-attf-href="/web/signup" class="btn sign-up btn-warning" style="margin-top:25px">
                                    <strong>Sign up</strong>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="divide40"></div>
                </div> <!--intro text end-->

                <footer id="footer">
                    <div>
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-8" >
                                    Powered by <a href="http://www.odoo.com/page/website-builder" target="_blank">odoo.com</a>
                                </div>
                                <div class="col-sm-4">
                                    <p>This website is maintained by volunteers hoping to make a difference.
                                    Connect with us:
                                    </p>
                                    <p>
                                        <a t-attf-href="/page/website.contactus"><i class="fa fa-envelope fa-3x"/></a><!--news link-->
                                        <a t-att-href="website.social_twitter"><i class="fa fa-twitter fa-3x"/></a><!--news link-->
                                        <a t-att-href="website.social_linkedin"><i class="fa fa-linkedin fa-3x"/></a><!--news link-->
                                        <a t-att-href="website.social_github"><i class="fa fa-github fa-3x"/></a><!--news link-->
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </footer>
            </t>
        </template>
    </data>
</openerp>
