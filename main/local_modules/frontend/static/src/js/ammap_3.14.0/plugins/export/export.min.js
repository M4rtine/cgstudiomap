AmCharts.addInitHandler(function(a){var b={name:"export",version:"1.0",libs:{autoLoad:!0,path:"./plugins/export/libs/",resources:[{"pdfmake/pdfmake.js":["pdfmake/vfs_fonts.js"],"jszip/jszip.js":["xlsx/xlsx.js"]},"fabric.js/fabric.js","FileSaver.js/FileSaver.js"],loaded:0},config:{},setup:{},drawing:{enabled:!1,actions:["undo","redo","done","cancel"],undos:[],undo:function(){var a=b.drawing.undos.pop();a&&(b.drawing.redos.push(a),a.path.remove())},redos:[],redo:function(){var a=b.drawing.redos.pop();a&&(b.setup.fabric.add(a.path),b.drawing.undos.push(a))},done:function(){b.drawing.enabled=!1,b.drawing.undos=[],b.drawing.redos=[],b.setup.fabric.renderAll(),b.setup.wrapper.setAttribute("class","amcharts-export-canvas"),b.createMenu(b.config.menu)}},defaults:{position:"top-right",fileName:"amCharts",action:"download",formats:{JPG:{mimeType:"image/jpg",extension:"jpg",capture:!0},PNG:{mimeType:"image/png",extension:"png",capture:!0},SVG:{mimeType:"text/xml",extension:"svg",capture:!0},PDF:{mimeType:"application/pdf",extension:"pdf",capture:!0},CSV:{mimeType:"text/plain",extension:"csv"},JSON:{mimeType:"text/plain",extension:"json"},XLSX:{mimeType:"application/octet-stream",extension:"xlsx"}},fabric:{backgroundColor:"#FFFFFF",isDrawingMode:!1,selection:!1,removeImages:!0},pdfMake:{pageSize:"A4",pageOrientation:"portrait",images:{},content:[{image:"reference",fit:[523.28,769.89]}]},menu:[{"class":"export-main",label:"Export",menu:[{label:"Download as ...",menu:["PNG","JPG","SVG",{format:"PDF",content:["Saved from:",window.location.href,{image:"reference",fit:[523.28,769.89]}]}]},{label:"Save data ...",menu:["CSV","XLSX","JSON"]},{label:"Annotate",action:"draw",menu:[{"class":"export-drawing",menu:[{label:"Color ...",menu:[{"class":"export-drawing-color export-drawing-color-black",label:"Black",click:function(){this.setup.fabric.freeDrawingBrush.color="#000"}},{"class":"export-drawing-color export-drawing-color-white",label:"White",click:function(){this.setup.fabric.freeDrawingBrush.color="#fff"}},{"class":"export-drawing-color export-drawing-color-red",label:"Red",click:function(){this.setup.fabric.freeDrawingBrush.color="#f00"}},{"class":"export-drawing-color export-drawing-color-green",label:"Green",click:function(){this.setup.fabric.freeDrawingBrush.color="#0f0"}},{"class":"export-drawing-color export-drawing-color-blue",label:"Blue",click:function(){this.setup.fabric.freeDrawingBrush.color="#00f"}}]},"UNDO","REDO",{label:"Save as ...",menu:["PNG","JPG","SVG",{format:"PDF",content:["Saved from:",window.location.href,{image:"reference",fit:[523.28,769.89]}]}]},{format:"PRINT",label:"Print"},"CANCEL"]}]},{format:"PRINT",label:"Print"}]}]},download:function(a,c,d){return b.toBlob({data:a,type:c},function(a){if(!window.saveAs)throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.");saveAs(a,d)}),a},loadResource:function(a,c){function f(){if(b.libs.loaded++,c)for(i in c)b.loadResource(c[i])}var d,e=-1!=a.indexOf("//")?a:[b.libs.path,a].join("");-1!=a.indexOf(".js")?(d=document.createElement("script"),d.setAttribute("type","text/javascript"),d.setAttribute("src",e)):-1!=a.indexOf(".css")&&(d=document.createElement("link"),d.setAttribute("type","text/css"),d.setAttribute("rel","stylesheet"),d.setAttribute("href",e)),d?(d.addEventListener("load",f),document.head.appendChild(d)):f()},loadDependencies:function(){if(!b.libs.loaded&&b.libs.autoLoad)for(i in b.libs.resources)if("object"==typeof b.libs.resources[i])for(i2 in b.libs.resources[i]){var a=b.libs.resources[i][i2];b.loadResource(i2,a)}else b.loadResource(b.libs.resources[i])},pxToNumber:function(a){return Number(String(a).replace("px",""))||0},deepMerge:function(a,c,d){for(i in c){var e=c[i];(void 0==a[i]||d)&&(e instanceof Array?a[i]=new Array:e instanceof Function?a[i]=new Function:e instanceof Date?a[i]=new Date:e instanceof Object?a[i]=new Object:e instanceof Number?a[i]=new Number:e instanceof String&&(a[i]=new String)),e instanceof Function||e instanceof Date||!(e instanceof Object||e instanceof Array)?a instanceof Array&&!d?a.push(e):a[i]=e:b.deepMerge(a[i],e,d)}return a},capture:function(c,d){var f,g,e=b.deepMerge(b.deepMerge({},b.config.fabric),c||{}),h=0,j=[],k={x:0,y:0,width:b.setup.chart.divRealWidth,height:b.setup.chart.divRealHeight},l=b.setup.chart.containerDiv.getElementsByTagName("svg");for(f=0;f<l.length;f++){var m={svg:l[f],parent:l[f].parentNode,offset:{x:0,y:0},patterns:{},clippings:{}},n=l[f].getElementsByTagName("clipPath");for(g=0;g<n.length;g++){for(h=0;h<n[g].childNodes.length;h++)n[g].childNodes[h].setAttribute("fill","transparent");m.clippings[n[g].id]=n[g]}var n=l[f].getElementsByTagName("pattern");for(g=0;g<n.length;g++){var o={node:n[g],source:n[g].getAttribute("xlink:href"),width:Number(n[g].getAttribute("width")),height:Number(n[g].getAttribute("height")),repeat:"repeat"},p=n[g].getElementsByTagName("rect");if(p.length>0){var q=new Image;q.src=o.source;var r=new fabric.StaticCanvas(void 0,{width:o.width,height:o.height,backgroundColor:p[0].getAttribute("fill")}),s=new fabric.Rect({width:o.width,height:o.height,fill:new fabric.Pattern({source:q,repeat:"repeat"})});r.add(s),o.source=r.toDataURL()}m.patterns[n[g].id]=new fabric.Pattern(o)}j.push(m)}if(b.config.legend&&b.setup.chart.legend&&"outside"==b.setup.chart.legend.position){var m={svg:b.setup.chart.legend.container.container,parent:b.setup.chart.legend.container.div,offset:{x:0,y:0},legend:{type:-1!=["top","left"].indexOf(b.config.legend.position)?"unshift":"push",position:b.config.legend.position,width:b.config.legend.width?b.config.legend.width:b.setup.chart.legend.container.width,height:b.config.legend.height?b.config.legend.height:b.setup.chart.legend.container.height}};-1!=["left","right"].indexOf(m.legend.position)?(k.width+=m.legend.width,k.height=m.legend.height>k.height?m.legend.height:k.height):-1!=["top","bottom"].indexOf(m.legend.position)&&(k.height+=m.legend.height),j[m.legend.type](m)}for("stock"==b.setup.chart.type&&(b.setup.chart.leftContainer&&(k.width-=b.pxToNumber(b.setup.chart.leftContainer.style.width),b.setup.wrapper.style.paddingLeft=b.pxToNumber(b.setup.chart.leftContainer.style.width)+2*b.setup.chart.panelsSettings.panelSpacing),b.setup.chart.rightContainer&&(k.width-=b.pxToNumber(b.setup.chart.rightContainer.style.width),b.setup.wrapper.style.paddingRight=b.pxToNumber(b.setup.chart.rightContainer.style.width)+2*b.setup.chart.panelsSettings.panelSpacing),b.setup.chart.periodSelector&&-1!=["top","bottom"].indexOf(b.setup.chart.periodSelector.position)&&(k.height-=b.setup.chart.periodSelector.offsetHeight+b.setup.chart.panelsSettings.panelSpacing),b.setup.chart.dataSetSelector&&-1!=["top","bottom"].indexOf(b.setup.chart.dataSetSelector.position)&&(k.height-=b.setup.chart.dataSetSelector.offsetHeight)),b.drawing.enabled=e.isDrawingMode=e.drawing&&e.drawing.enabled?!0:"draw"==e.action,b.setup.wrapper?b.setup.wrapper.innerHTML="":(b.setup.wrapper=document.createElement("div"),b.setup.wrapper.setAttribute("class","amcharts-export-canvas"),b.setup.wrapper.appendChild(b.setup.canvas)),b.setup.canvas=document.createElement("canvas"),b.setup.wrapper.appendChild(b.setup.canvas),b.setup.fabric=new fabric.Canvas(b.setup.canvas,b.deepMerge({width:k.width,height:k.height},e)),b.deepMerge(b.setup.fabric,e),b.setup.fabric.on("path:created",function(a){b.drawing.undos.push(a)}),b.drawing.enabled?b.setup.wrapper.setAttribute("class","amcharts-export-canvas active"):b.setup.wrapper.setAttribute("class","amcharts-export-canvas"),f=0;f<j.length;f++){var m=j[f];m.parent.style.top||m.parent.style.left?(m.offset.y=b.pxToNumber(m.parent.style.top),m.offset.x=b.pxToNumber(m.parent.style.left)):(m.legend?"left"==m.legend.position?k.x+=a.legend.container.width:"right"==m.legend.position?m.offset.x+=k.width-m.legend.width:"top"==m.legend.position?k.y+=m.legend.height:"bottom"==m.legend.position&&(m.offset.y+=k.height-m.legend.height):(m.offset.x=k.x,m.offset.y=k.y,k.y+=b.pxToNumber(m.parent.style.height)),m.parent&&-1!=(m.parent.getAttribute("class")||"").split(" ").indexOf("amChartsLegend")&&(k.y+=b.pxToNumber(m.parent.parentNode.parentNode.style.marginTop),m.offset.y+=b.pxToNumber(m.parent.parentNode.parentNode.style.marginTop))),fabric.parseSVGDocument(m.svg,function(a){return function(c,g){var h=fabric.util.groupSVGElements(c,g),k={top:a.offset.y,left:a.offset.x};for(f in h.paths)if(h.paths[f]){if(e.removeImages&&h.paths[f]["xlink:href"]&&-1==h.paths[f]["xlink:href"].indexOf(location.origin)&&h.paths.splice(f,1),h.paths[f].fill instanceof Object)"radial"==h.paths[f].fill.type&&(h.paths[f].fill.coords.r2=-1*h.paths[f].fill.coords.r1,h.paths[f].fill.coords.r1=0),h.paths[f].set({opacity:h.paths[f].fillOpacity});else if("url"==String(h.paths[f].fill).slice(0,3)){var l=h.paths[f].fill.slice(5,-1);a.patterns[l]&&h.paths[f].set({fill:a.patterns[l],opacity:h.paths[f].fillOpacity})}if("url"==String(h.paths[f].clipPath).slice(0,3)){var l=h.paths[f].clipPath.slice(5,-1);if(a.clippings[l]){var m=a.clippings[l].childNodes[0],n=h.paths[f].svg.getAttribute("transform")||"translate(0,0)";n=n.slice(10,-1).split(","),h.paths[f].set({clipTo:function(a,b){return function(c){var d=Number(a.getAttribute("width")||"0"),e=Number(a.getAttribute("height")||"0"),f=Number(a.getAttribute("x")||"0"),g=Number(a.getAttribute("y")||"0");c.rect(-1*Number(b[0])+f,-1*Number(b[1])+g,d,e)}}(m,n)})}}}h.set(k),b.setup.fabric.add(h);var o=a.svg.parentNode.getElementsByClassName("amcharts-balloon-div");for(i=0;i<o.length;i++)if(e.balloonFunction instanceof Function)e.balloonFunction.apply(b,[o[i],a]);else{var p=o[i],q=p.childNodes[0],r=new fabric.Text(q.innerText||q.innerHTML,{fontSize:b.pxToNumber(q.style.fontSize),fontFamily:q.style.fontFamily,fill:q.style.color,top:b.pxToNumber(p.style.top)+a.offset.y,left:b.pxToNumber(p.style.left)+a.offset.x});b.setup.fabric.add(r)}if(a.svg.nextSibling&&"A"==a.svg.nextSibling.tagName){var r=new fabric.Text(a.svg.nextSibling.innerText||a.svg.nextSibling.innerHTML,{fontSize:b.pxToNumber(a.svg.nextSibling.style.fontSize),fontFamily:a.svg.nextSibling.style.fontFamily,fill:a.svg.nextSibling.style.color,top:b.pxToNumber(a.svg.nextSibling.style.top)+a.offset.y,left:b.pxToNumber(a.svg.nextSibling.style.left)+a.offset.x});b.setup.fabric.add(r)}j.pop(),j.length||b.handleCallback(d)}}(m),function(a,c){var d=a.getAttribute("class")||a.parentNode.getAttribute("class")||"",e=a.getAttribute("visibility")||a.parentNode.getAttribute("visibility")||a.parentNode.parentNode.getAttribute("visibility")||"",g=a.getAttribute("clip-path")||a.parentNode.getAttribute("clip-path")||"";if(c.className=d,c.clipPath=g,c.svg=a,"hidden"==e)c.opacity=0;else{var h=["fill","stroke"];for(f in h){var i=h[f],j=String(a.getAttribute(i)||""),k=Number(a.getAttribute(i+"-opacity")||"1"),l=fabric.Color.fromHex(j).getSource();"amcharts-guide-fill"!=c.className||j||(k=0,l=fabric.Color.fromHex("#000000").getSource()),l&&(l.pop(),l.push(k),c[i]="rgba("+l.join()+")",c[b.capitalize(i+"-opacity")]=k)}}})}},toCanvas:function(a,c){b.deepMerge({},a||{});var e=b.setup.canvas;return b.handleCallback(c,e),e},toBlob:function(a,c){var d=b.deepMerge({data:"empty",type:"text/plain"},a||{}),e=/^data:.+;base64,(.*)$/.exec(d.data);return e&&(d.data=e[0],d.type=d.data.slice(5,d.data.indexOf(",")-7),d.data=b.toByteArray({data:d.data.slice(d.data.indexOf(",")+1,d.data.length)})),data=d.getByteArray?d.data:new Blob([d.data],{type:d.type}),b.handleCallback(c,data),data},toJPG:function(a,c){var d=b.deepMerge({format:"jpeg",quality:1,multiplier:1,background:"#FF00FF"},a||{}),e=b.setup.fabric.toDataURL(d);return b.handleCallback(c,e),e},toPNG:function(a,c){var d=b.deepMerge({format:"png",quality:1,multiplier:1},a||{}),e=b.setup.fabric.toDataURL(d);return b.handleCallback(c,e),e},toSVG:function(a,c){var d=b.deepMerge({},a||{}),e=b.setup.fabric.toSVG(d);return b.handleCallback(c,e),e},toPDF:function(a,c){var d=b.deepMerge(b.deepMerge({multiplier:2},b.config.pdfMake),a||{},!0);d.images.reference=b.toPNG(d);var e=new pdfMake.createPdf(d);return c&&e.getDataUrl(function(a){return function(){a.apply(b,arguments)}}(c)),e},toPRINT:function(a,c){var d=b.deepMerge({},a||{}),e=b.toPNG(d),f=[],g=document.body.childNodes,h=document.createElement("img");h.src=e,h.setAttribute("style","width: 100%; max-height: 100%;");for(i in g)1===g[i].nodeType&&(f[i]=g[i].style.display,g[i].style.display="none");document.body.appendChild(h),window.print();for(i in g)1===g[i].nodeType&&(g[i].style.display=f[i]);return h.remove(),b.handleCallback(c,e),!0},toJSON:function(a,c){var d=b.deepMerge({data:b.getChartData()},a||{},!0),e=JSON.stringify(d.data,void 0,"	");return b.handleCallback(c,e),e},toCSV:function(a,c){var d=b.deepMerge({data:b.getChartData(),delimiter:",",quotes:!0,escape:!0,dateFields:[],dateFormat:b.setup.chart.dataDateFormat||"YYYY-MM-DD"},a||{},!0),e="";b.setup.chart.categoryAxis&&b.setup.chart.categoryAxis.parseDates&&b.setup.chart.categoryField&&d.dateFields.push(b.setup.chart.categoryField);for(row in d.data){var f=[];for(col in d.data[row]){var g=d.data[row][col];0==row?g=col:"string"==typeof g?g=g:d.dateFormat&&g instanceof Date&&-1!=d.dateFields.indexOf(col)&&(g=AmCharts.formatDate(g,d.dateFormat)),"string"==typeof g&&(d.escape&&(g=g.replace('"','""')),d.quotes&&(g=['"',g,'"'].join(""))),f.push(g)}e+=f.join(d.delimiter)+"\n"}return b.handleCallback(c,e),e},toXLSX:function(a,c){function g(a,b){b&&(a+=1462);var c=Date.parse(a);return(c-new Date(Date.UTC(1899,11,30)))/864e5}function h(a){for(var c={},d={s:{c:1e7,r:1e7},e:{c:0,r:0}},e=0;e!=a.length;++e)for(var f=0;f!=a[e].length;++f){d.s.r>e&&(d.s.r=e),d.s.c>f&&(d.s.c=f),d.e.r<e&&(d.e.r=e),d.e.c<f&&(d.e.c=f);var h={v:a[e][f]};if(null!=h.v){var i=XLSX.utils.encode_cell({c:f,r:e});"number"==typeof h.v?h.t="n":"boolean"==typeof h.v?h.t="b":h.v instanceof Date?(h.t="n",h.z=XLSX.SSF._table[14],h.v=g(h.v)):h.t="s",c[i]=h}}return d.s.c<1e7&&(c["!ref"]=XLSX.utils.encode_range(d)),c}var d=b.deepMerge({data:b.getChartData(),name:"amCharts",withHeader:!0},a||{},!0),e="",f={SheetNames:[],Sheets:{}};return f.SheetNames.push(d.name),f.Sheets[d.name]=h(b.toArray(d)),e=XLSX.write(f,{bookType:"xlsx",bookSST:!0,type:"base64"}),e="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+e,b.handleCallback(c,e),e},toArray:function(a,c){var d=b.deepMerge({data:b.getChartData(),dateFields:[],dateFormat:b.setup.chart.dataDateFormat||"YYYY-MM-DD",withHeader:!1},a||{},!0),e=[],f=[];if(b.setup.chart.categoryAxis&&b.setup.chart.categoryAxis.parseDates&&b.setup.chart.categoryField&&d.dateFields.push(b.setup.chart.categoryField),d.withHeader){for(h in d.data[0])f.push(h);e.push(f)}for(row in d.data){var g=[];for(h in f){var h=f[h],i=d.data[row][h]||"";i=d.dateFormat&&i instanceof Date&&-1!=d.dateFields.indexOf(h)?AmCharts.formatDate(i,d.dateFormat):String(i),g.push(i)}e.push(g)}return b.handleCallback(c,e),e},toByteArray:function(a,c){function l(a){var b=a.charCodeAt(0);return b===f?62:b===g?63:h>b?-1:h+10>b?b-h+26+26:j+26>b?b-j:i+26>b?b-i+26:void 0}function m(a){function k(a){h[j++]=a}var b,c,d,f,g,h;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=a.length;g="="===a.charAt(i-2)?2:"="===a.charAt(i-1)?1:0,h=new e(3*a.length/4-g),d=g>0?a.length-4:a.length;var j=0;for(b=0,c=0;d>b;b+=4,c+=3)f=l(a.charAt(b))<<18|l(a.charAt(b+1))<<12|l(a.charAt(b+2))<<6|l(a.charAt(b+3)),k((16711680&f)>>16),k((65280&f)>>8),k(255&f);return 2===g?(f=l(a.charAt(b))<<2|l(a.charAt(b+1))>>4,k(255&f)):1===g&&(f=l(a.charAt(b))<<10|l(a.charAt(b+1))<<4|l(a.charAt(b+2))>>2,k(255&f>>8),k(255&f)),h}var d=b.deepMerge({},a||{}),e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),i="a".charCodeAt(0),j="A".charCodeAt(0),k=m(d.data);return b.handleCallback(c,k),k},handleCallback:function(a,c){a&&a.apply(b,[c])},getChartData:function(){var a=[];if("stock"==b.setup.chart.type)a=b.setup.chart.mainDataSet.dataProvider;else if("gantt"==b.setup.chart.type){for(var c=b.setup.chart.segmentsField,d=0;d<b.setup.chart.dataProvider.length;d++)if(b.setup.chart.dataProvider[d][c])for(var e=0;e<b.setup.chart.dataProvider[d][c].length;e++)a.push(b.setup.chart.dataProvider[d][c][e])}else a=b.setup.chart.dataProvider;return a},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()},createMenu:function(c){function d(c,e){var f=document.createElement("ul");for(i in c){var g="string"==typeof c[i]?{format:c[i]}:c[i],h=document.createElement("li"),j=document.createElement("a"),k=document.createElement("img"),l=document.createElement("span"),m=String(g.action?g.action:g.format).toLowerCase();g.format=String(g.format).toUpperCase(),b.config.formats[g.format]?g=b.deepMerge({label:g.icon?"":g.format,format:g.format,mimeType:b.config.formats[g.format].mimeType,extension:b.config.formats[g.format].extension,capture:b.config.formats[g.format].capture,action:b.config.action,fileName:b.config.fileName},g):g.menu||g.items||(g.label=g.label?g.label:b.capitalize(m)),(-1==["CSV","JSON","XLSX"].indexOf(g.format)||-1==["map","gauge"].indexOf(b.setup.chart.type))&&(g.click||g.menu||g.items?"draw"==g.action&&(g.click=function(a){return function(){this.capture(a,function(){this.createMenu(a.menu,a)})}}(g)):-1!=b.drawing.actions.indexOf(m)?(g.action=m,g.click=function(a){return function(){this.drawing[a.action]()}}(g)):b.drawing.enabled?g.click=function(a){return function(){this["to"+a.format](a,function(b){"print"!=a.action&&"PRINT"!=a.format&&this.download(b,a.mimeType,[a.fileName,a.extension].join(".")),this.drawing.done()})}}(g):"UNKNOWN"!=g.format&&(g.click=function(a){return function(){if(a.capture||"print"==a.action||"PRINT"==a.format)this.capture(a,function(){this["to"+a.format](a,function(b){"download"==a.action&&this.download(b,a.mimeType,[a.fileName,a.extension].join("."))})});else{if(!this["to"+a.format])throw new Error("Invalid format. Could not determine output type.");this["to"+a.format](a,function(b){this.download(b,a.mimeType,[a.fileName,a.extension].join("."))})}}}(g)),j.setAttribute("href","#"),j.addEventListener("click",function(a){return function(c){a.apply(b,arguments),c.preventDefault()}}(g.click||function(a){a.preventDefault()})),h.appendChild(j),l.innerHTML=g.label,g["class"]&&(h.className=g["class"]),g.icon&&(k.setAttribute("src",(-1==g.icon.slice(0,10).indexOf("//")?a.pathToImages:"")+g.icon),j.appendChild(k)),g.label&&j.appendChild(l),g.title&&j.setAttribute("title",g.title),b.config.menuReviver&&(h=b.config.menuReviver.apply(b,[g,h])),(g.menu||g.items)&&"draw"!=g.action?d(g.menu||g.items,h).childNodes.length&&f.appendChild(h):f.appendChild(h))}return e.appendChild(f)}var e=b.setup.chart.containerDiv.getElementsByClassName("amcharts-export-menu");if(e.length)e=e[0],e.innerHTML="";else{var e=document.createElement("div");e.setAttribute("class","amExportButton amcharts-export-menu amcharts-export-menu-"+b.config.position),b.setup.menu=e}return b.config.menuWalker&&(d=b.config.menuWalker),d(c,e),b.setup.chart.containerDiv.appendChild(e),e},migrateSetup:function(a){function d(a){for(key in a){var b=a[key];"export"==key.slice(0,6)&&b?c.menu.push(key.slice(6)):"userCFG"==key?d(b):"menuItems"==key?c.menu=b:"libs"==key&&(c.libs=b)}}if(a.amExport||a.exportConfig){var c=b.deepMerge({enabled:!0,migrated:!0,libs:{autoLoad:!1}},b.defaults);d(a.amExport||a.exportConfig),a["export"]=c}return a},init:function(){b.setup.canvas=document.createElement("canvas"),b.setup.wrapper=document.createElement("div"),b.setup.wrapper.setAttribute("class","amcharts-export-canvas"),b.setup.wrapper.appendChild(b.setup.canvas),b.setup.chart.containerDiv.appendChild(b.setup.wrapper),b.setup.chart.AmExport=b,b.timer=setTimeout(function(){clearTimeout(b.timer),b.createMenu(b.config.menu)},AmCharts.updateRate)}};b.drawing.cancel=b.drawing.done,b.setup.chart=b.migrateSetup(a),void 0!==b.setup.chart["export"]&&b.setup.chart["export"].enabled&&(window.Blob||b.libs.resources.push("blob.js/blob.js"),b.deepMerge(b.libs,b.setup.chart["export"].libs||{},!0),b.deepMerge(b.defaults.pdfMake,b.setup.chart["export"]),b.deepMerge(b.defaults.fabric,b.setup.chart["export"]),b.config=b.deepMerge(b.defaults,b.setup.chart["export"],!0),b.setup.chart["export"]=b,b.setup.chart.addClassNames=!0,AmCharts.isIE&&AmCharts.IEversion<9||(b.loadDependencies(),b.timer=setInterval(function(){b.setup.chart.containerDiv&&(clearTimeout(b.timer),b.init())},AmCharts.updateRate)))},["pie","serial","xy","funnel","radar","gauge","stock","map","gantt"]);