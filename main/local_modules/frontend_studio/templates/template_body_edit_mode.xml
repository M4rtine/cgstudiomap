<openerp>
    <data>
        <template id="frontend_studio.save_form" name="Studio: Save Modifications">
            <form id="save-form"
                  style="padding-top: 100px"
                  t-att-action="'/directory/company/{}/edit'.format(partner['id'])"
                  enctype="multipart/form-data"
                  method="POST">
                <t t-raw="0"/>
            </form>
        </template>

        <template id="frontend_studio.back_button" name="Studio: Back To Edit Button">
            <div class="col-xs-6 col-sm-6">
                <p>
                    <a t-att-href="'/directory/company/{}'.format(partner['id'])">Back </a>
                    <span class="fontCGSMicons">play</span>
                </p>
            </div>
        </template>

        <template id="frontend_studio.save_button" name="Studio: Save Button">
            <input type='submit'
                   class="btn btn-edit outline a-submit"
                   value="Save"/>
        </template>

        <!--Zone to inform something when wrong during the processing of new data.-->
        <!--As there are several tabs, a unique zone will important for the UX I guess.-->
        <template id="frontend_studio.error_zone" name="Studio: Zone to display errors">
            <t t-if="error">
                <div class="form-group" style="background:red">
                    <t t-raw="error"/>
                </div>
            </t>
        </template>

        <template id="frontend_studio.image_block" name="Studio: Block Image">
            <div class="row">
                <!--Display of the current logo of the company-->
                <div class="col-sm-3 col-logo">
                    <t t-set="image_url" t-value="partner['image_url']"/>
                    <t t-call="frontend_base.company_logo"/>
                </div>
                <!--If this checkbox is checked, the current logo of the company will be set to nothing -->
                <!--And even if there is a picture selected by the user in the input file, the selected-->
                <!--image will be ignore to reset the logo to the placeholder-->
                <input type="checkbox" name='remove_image' value="remove_image"/>Check to clean current image
                <!--Set the logo of the company to a new logo.-->
                <input type="file" name="image_file" accept="image/*" value="Browse for new logo..."/>
                <!--If none of the input are selected, the current logo remains.-->
            </div>
        </template>

        <template id="frontend_studio.studio_common_edit" name="Studio: Edit Common">
            <div class="form-group">
                <p>
                    <t t-esc="fields['name']['string']"/>
                    <input type="text"
                           t-att-required="'required' if fields['name']['required'] else ''"
                           name="name"
                           class="search-query form-control"
                           t-att-value="partner['name']" />
                </p>
                <p>
                    <t t-esc="fields['state']['string']"/>
                    <select class="form-control" name="state">
                    <t t-foreach="state_selections" t-as="selections">
                        <option t-att-value="selections[0]"
                                t-att-selected="'selected' if selections[0] == partner['state'] else ''">
                            <t t-esc="selections[1]"/>
                        </option>
                    </t>
                    </select>
                </p>
            </div>
        </template>

        <template id="frontend_studio.studio_address_edit" name="Studio: Edit Address">
            <div class="form-group">
                <p>
                    <t t-esc="fields['street']['string']"/>
                    <input type="text"
                           t-att-required="'required' if fields['street']['required'] else ''"
                           name="street"
                           class="search-query form-control"
                           t-att-value="partner['street']" />
                </p>
                <p>
                    <t t-esc="fields['street2']['string']"/>
                    <input type="text"
                           t-att-required="'required' if fields['street2']['required'] else ''"
                           name="street2"
                           class="search-query form-control"
                           t-att-value="partner['street2']" />
                </p>
                <p>
                    <t t-esc="fields['city']['string']"/>
                    <input type="text"
                           t-att-required="'required' if fields['city']['required'] else ''"
                           name="city"
                           class="search-query form-control"
                           t-att-value="partner['city']" />
                </p>
                <p>
                    <t t-esc="fields['zip']['string']"/>
                    <input type="text"
                           t-att-required="'required' if fields['zip']['required'] else ''"
                           name="zip"
                           class="search-query form-control"
                           t-att-value="partner['zip']" />
                </p>
                <!--<p>-->
                    <!--<t t-esc="fields['state_id']['string']"/>-->
                    <!--<t t-esc="partner['state_id']" />,-->
                <!--</p>-->
                <p>
                    <t t-esc="fields['country_id']['string']"/>
                    <select class="form-control" name="country_id" id="country-select">
                        <t t-foreach="countries" t-as="country">
                            <option t-att-value="country.id"
                                    t-att-selected="'selected' if country.id == partner['country_id'] else ''"
                                    >
                                <t t-esc="country.name"/>
                            </option>
                        </t>
                    </select>
                </p>
            </div>
        </template>

        <template id="frontend_studio.studio_links_edit" name="Studio: Edit Links">
            <div class="form-group">
                <p>
                    <t t-esc="fields['website']['string']"/>
                    <input type="url"
                           t-att-required="'required' if fields['website']['required'] else ''"
                           name="website"
                           class="search-query form-control"
                           t-att-value="partner['website']" />
                </p>
                <p>
                    <t t-esc="fields['email']['string']"/>
                    <input type="email"
                           t-att-required="'required' if fields['email']['required'] else ''"
                           name="email"
                           class="search-query form-control"
                           t-att-value="partner['email']" />
                </p>
            </div>
        </template>

        <template id="frontend_studio.studio_social_networks_edit" name="Studio: Edit Social Networks">
            <div class="form-group">
                <t t-foreach="partner['social_networks']" t-as="social_network">
                    <p>
                        <t t-esc="fields[social_network]['string']"/>
                        <input type="url"
                               t-att-required="'required' if fields[social_network]['required'] else ''"
                               t-att-name="social_network"
                               class="search-query form-control"
                               t-att-value="partner['social_networks'][social_network]" />
                    </p>
                </t>
            </div>
        </template>

        <template id="frontend_studio.studio_calls_edit" name="Studio: Edit Calls">
            <div class="form-group">
                <t t-foreach="partner['calls']" t-as="call">
                    <p>
                        <t t-esc="fields[call]['string']"/>
                        <input type="tel"
                               t-att-required="'required' if fields[call]['required'] else ''"
                               t-att-name="call"
                               t-att-id="call"
                               class="search-query form-control"
                               t-att-value="partner['calls'][call]" />
                    </p>
                </t>
            </div>
        </template>

        <template id="frontend_studio.studio_industries_edit" name="Studio: Edit Industries">
            <div class="form-group">
                <t t-foreach="industries" t-as="ind">
                    <input type="checkbox"
                           t-att-name='"industry_ids.{0}".format(ind.id)'
                           t-att-value="ind.id"
                           t-att-checked="'checked' if ind in partner['industry_ids'] else ''"
                    />
                    <t t-esc="ind.name"/>
                </t>
            </div>
        </template>

        <template id="frontend_studio.base_edit" name="Studio: base Edit">
            <t t-call="frontend_base.doctype_html"/>
            <t t-call="frontend_base.html">
                <t t-set="title" t-value="'{} - edit'.format(partner['name'])"/>
                <t t-call="frontend_base.full_head"/>
                <link rel="stylesheet" href="/frontend_studio/static/css/studio.css" type="text/css"/>
                <script type="text/javascript" src="/frontend_studio/static/js/geocharts_marker.js"></script>
                <style>
                    input:invalid {
                        color: red;
                    }
                </style>
                <t t-call="frontend_base.body">
                    <t t-raw="0"/>
                    <t t-call="frontend_base.footer"/>
                    <t t-call="frontend_base.engine">
                        <script type="text/javascript" src="/frontend_studio/static/js/geocharts_marker.js"></script>
                        <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
                        <script type="text/javascript" src="/frontend_studio/static/js/form_validations.js"></script>
                    </t>
                </t> <!-- closing body -->
            </t> <!-- closing html -->
        </template>

        <template id="frontend_studio.edit" name="Studio: Edit">
            <t t-call="frontend_studio.base_edit">

                <t t-call="frontend_studio.save_form">


                    <t t-call="frontend_studio.save_button"/>
                    <t t-call="frontend_studio.back_button"/>
                    <t t-call="frontend_studio.error_zone"/>
                    <div style="background-color:white;">
                        <div class="container studio-details fontCGSM">
                            <div class="row">
                                <div class="col-sm-10">
                                    <t t-call="frontend_studio.image_block"/>

                                    <div class="row">
                                        <div>
                                            <!--<h3>Common</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_common_edit"/>
                                            </div>
                                        </div>
                                        <div>
                                            <!--<h3>address</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_address_edit"/>
                                            </div>
                                        </div>
                                        <div>
                                            <!--<h3>Links</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_links_edit"/>
                                            </div>
                                        </div>
                                        <div>
                                            <!--<h3>Social</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_social_networks_edit"/>
                                            </div>
                                        </div>
                                        <div>
                                            <!--<h3>calls</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_calls_edit"/>
                                            </div>
                                        </div>
                                        <div>
                                            <!--<h3>industries</h3>-->
                                            <div class="col-sm-12">
                                                <t t-call="frontend_studio.studio_industries_edit"/>
                                            </div>
                                        </div>
                                    </div>


                                    <!--<div class="row">-->
                                        <!--<h3>Connect</h3>-->
                                        <!--<t t-call="frontend_studio.studio_details"/>-->
                                    <!--</div>-->
                                <!--</div>-->

                                <!--<div class="col-sm-2 studio_industries">-->
                                    <!--<h4><span class="fontCGSMicons">tag</span> Industries</h4>-->
                                    <!--<t t-call="frontend_studio.industries"/>-->
                                </div>
                            </div>


                        </div>
                    </div>
                </t>

            </t>

        </template>
    </data>
</openerp>