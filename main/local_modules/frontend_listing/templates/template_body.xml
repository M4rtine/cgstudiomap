<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="frontend_listing.loading" name="Listing: loading">
            <div class="loading-spinner"></div>
        </template>      
        
        
        <!--Requirements:-->
        <!--* url-->
        <template id="frontend_listing.switch" name="Listing: switch">
            <form t-att-action="keep(map_url, search=search, company_status=company_status)" method="get" >
                <div class="input-group">
                    <input type="hidden" name='company_status' t-att-value="company_status"/>
                    <input type="hidden" name='search' t-att-value="search"/>
                    <input type='submit'
                           t-att-class="'btn btn-default a-submit' if (url == list_url) else 'btn btn-default disabled' "
                           value="map">
                        <i class="fa fa-th-list fa-2x"></i>
                    </input>
                </div>
            </form>

            <form t-att-action="keep(list_url, search=search, company_status=company_status)" method="get" >
                <div class="input-group">
                    <input type="hidden" name='company_status' t-att-value="company_status"/>
                    <input type="hidden" name='search' t-att-value="search"/>
                    <input type='submit'
                           t-att-class="'btn btn-default a-submit' if (url == map_url) else 'btn btn-default disabled' "
                           value="list">
                        <i class="fa fa-compass fa-2x"></i>
                    </input>
                </div>
            </form>
        </template>

        <!--Requirements:-->
        <!--* url-->
        <template id="frontend_listing.search" name="Listing: search">
            <form t-att-action="keep(url, search=0, company_status=company_status)" method="get" t-att-class="search_class">
                <div class="input-group">
                    <input type="text"
                           name="search"
                           class="search-query form-control"
                           placeholder="Search..."
                           t-att-value="search"/>
                    <input type="hidden" name='company_status' t-att-value='company_status'/>
                    <span class="input-group-btn">
                        <a class="btn btn-default a-submit"><i class="fa fa-search"/></a>
                    </span>
                </div>

            </form>
         </template>
		
        <!--Template about the directory footer of the website-->
        <template id="frontend_listing.footer" name="Listing: footer">
			<footer class="footer">
				<div class="container">
				   <div class="row fontCGSM">
						<div class="col-xs-6 col-sm-4 col-lg-4">
							<span class="name">CG Studio Map</span>
							<span class="catch">where cg is</span>
						</div>
						<div class="socials col-xs-6 col-sm-4 col-lg-4 col-sm-offset-4 col-lg-offset-4">
							<p class="pull-right visible-lg-inline">
								<a t-att-href="website.social_twitter"><i class="fa fa-twitter fa-3x"></i></a>
								<a t-att-href="website.social_linkedin"><i class="fa fa-linkedin fa-3x"></i></a>
								<a t-att-href="website.social_github"><i class="fa fa-github fa-3x"></i></a>
							</p>
							<p class="pull-right visible-md-inline">
								<a t-att-href="website.social_twitter"><i class="fa fa-twitter fa-2x"></i></a>
								<a t-att-href="website.social_linkedin"><i class="fa fa-linkedin fa-2x"></i></a>
								<a t-att-href="website.social_github"><i class="fa fa-github fa-2x"></i></a>
							</p>
							<p class="pull-right visible-sm-inline">
								<a t-att-href="website.social_twitter"><i class="fa fa-twitter fa-lg"></i></a>
								<a t-att-href="website.social_linkedin"><i class="fa fa-linkedin fa-lg"></i></a>
								<a t-att-href="website.social_github"><i class="fa fa-github fa-lg"></i></a>
							</p>							
							<p class="pull-right visible-xs-inline">
								<a t-att-href="website.social_twitter"><i class="fa fa-twitter"></i></a>
								<a t-att-href="website.social_linkedin"><i class="fa fa-linkedin"></i></a>
								<a t-att-href="website.social_github"><i class="fa fa-github"></i></a>
							</p>
						</div>

				   </div>


				</div>
			</footer>
        </template>

        <template id="frontend_listing.filters" name="Listing: Filters">
            <div class="filters">
                <form t-att-action="keep(url, search=search, company_status='open')" method="get" >
                    <div class="input-group">
                        <input type="hidden" name='company_status' value="open"/>
                        <input type="hidden" name='search' t-att-value="search"/>
                        <input type='submit'
                               t-att-class="'btn btn-default a-submit' if (company_status != 'open') else 'btn btn-default disabled' "
                               value="open"/>
                    </div>
                </form>

                <form t-att-action="keep(url, search=search, company_status=company_status)" method="get" >
                    <div class="input-group">
                        <input type="hidden" name='company_status' value="closed"/>
                        <input type="hidden" name='search' t-att-value="search"/>
                        <input type='submit'
                               t-att-class="'btn btn-default a-submit' if (company_status != 'closed') else 'btn btn-default disabled' "
                               value="closed"/>
                    </div>
                </form>

                <form t-att-action="keep(url, search=search, company_status=company_status)" method="get" >
                    <div class="input-group">
                        <input type="hidden" name='company_status' value="active"/>
                        <input type="hidden" name='search' t-att-value="search"/>
                        <input type='submit'
                               t-att-class="'btn btn-default a-submit' if (company_status != 'active') else 'btn btn-default disabled' "
                               value="all together"/>
                    </div>
                </form>


            </div>
        </template>

	
        <template id="frontend_listing.base" name="Base for listing of companies">
            <t t-call="frontend_base.doctype_html"/>
            <t t-call="frontend_base.html">

                <t t-call="frontend_base.full_head">
				<link rel="stylesheet" href="/frontend_listing/static/src/css/bootstrap-table.css" type="text/css"/>
                <link rel="stylesheet" href="/frontend_listing/static/src/css/frontend_listing.css" type="text/css"/>
                </t>

                <t t-call="frontend_base.body">
                    <div class="container navDirectory">
                        
                        
                        <div class="row">
                            <div class="col-xs-8">

                                <div class="row">
                                    <div class="col-xs-8 col-xs-offset-2" style="background-color:yellow;">
                                        <t t-call="frontend_listing.search">
                                            <t t-set="search_class">pagination form-inline col-md-3</t>
                                        </t>
                                    </div>
                                    <div class="col-xs-2" style="background-color:blue;">
                                        <a class="btn btn-default" href="#" role="button">ADD Studio</a>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-xs-8 col-xs-offset-2" style="background-color:red;">
                                        <t t-call="frontend_listing.filters"/>
                                    </div>
                                    <div class="col-xs-1 col-xs-offset-1" style="background-color:green;">
                                        <t t-call="frontend_listing.switch"/>
                                    </div>
                                </div> 
                                
                                
                                
                            </div>
                        
                            
                            <div class="col-xs-2 col-xs-offset-2">
                                <div class="stats stats-resume fontCGSM">
                                    <t t-set="nbr" t-value="nbr_companies"/>
                                    <t t-call="frontend_base.company_counter" />
                                </div>
                            </div>
                        </div>
                        

                    </div>
                    
                    
                    
                    
<!--                    <div class="products_pager">
                        <div class="row" style="width: 100%;">
                            <t t-call="frontend_listing.search">
                                <t t-set="search_class">pagination form-inline col-md-3</t>
                            </t>
                        </div>
                    </div>
                    <t t-call="frontend_listing.switch"/>
                    <div class="stats stat-right fontCGSM">
                        <t t-set="nbr" t-value="nbr_companies"/>
                        <t t-call="frontend_base.company_counter" />
                    </div>
                    <t t-call="frontend_listing.filters"/>-->

                    <t t-raw="0"/>
                    <t t-call="frontend_listing.footer"/>
                    <t t-call="frontend_base.engine">
                        <t t-call="frontend_base.company_counter_js"/>
                    </t>
                    
                    
                    
                </t> <!-- closing body -->

            </t> <!-- closing html -->
        </template>


        <template id="frontend_listing.map" name="Listing: Map">
            <t t-call="frontend_listing.base">
                <div id="map"></div>
            </t>
            <script type="text/javascript" src="/frontend_listing/static/src/lib/markerclusterer.js"></script>
            <script type="text/javascript" src="/frontend_listing/static/src/js/google_map.js"></script>
            <script>
                google.maps.event.addDomListener(
                window,
                'load',
                function () { initialize(<t t-raw="geoloc"/>); }
                );
            </script>
        </template>

        <template id="frontend_listing.list" name="Listing: List">
            <t t-call="frontend_listing.base">
                
				<div class="jumbotron fontCGSM">
					<div id="toolbar"></div>
                    
                    <t t-call="frontend_listing.loading"/>
                    
                    <table id="table"
                           data-toolbar="#toolbar"
                           data-mobile-responsive="true"
                           data-check-on-init="true">
                    </table>
				</div>
            </t>

            <script type="text/javascript">
                bootstrap_table_ajax('<t t-esc="search"/>', '<t t-raw="company_status"/>')
            </script>



        </template>
    </data>
</openerp>
